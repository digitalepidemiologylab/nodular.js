window.require||!window.document||window._nodularJS_||(window._nodularJS_=new function(){function m(b){return b?b.v||("SCRIPT"==b.tagName?b.id||"SCRIPT TAG":null)||(b.file?b.file():"UNKNOWN SCRIPT"):"(anonymous script)"}function H(b){var a=b.lastIndexOf("/");return 1>a?"":b.substring(0,a)}function B(b){b=b.split("/");var a=b.length;res=[];for(i=0<a&&"."==b[0]?1:0;i<a;){var c=b[i++];".."==c&&res.length&&".."!==res[res.length-1]?res.pop():res.push(c)}return 1==res.length||".."!=res[0]&&"."!=res[0]?
"./"+res.join("/"):res.join("/")}function C(b){for(var a=0,c=b.length;a<c;a++)if(!b[a].j())return!1;return!0}function I(){this.description="Cancelling script";this.h=!0}function D(b){var a=document.currentScript;if(!a)throw new I;a.c=a.c||0;a.c++;if(100<a.c)throw"Max number of script defering reached (100)";1<d.loglevel&&console.warn("! Deferring "+m(a)+" (requires "+(b?b.files:"all files")+")");2<d.loglevel&&console.log("Adding "+m(a)+" to pending scripts ("+g.length+")");b=!1;for(var c=0,f=g.length;c<
f;c++)if(g[c].b>a.b){g.splice(c,0,a);b=!0;break}b||g.push(a);var e=window.onerror;window.onerror=function(a,b,c,f,d){window.onerror=e;return"Aborting and defering script"===a||"Aborting and defering script"===d?!0:d&&d.h};throw"Aborting and defering script";}function v(){this.items=[];this.add=function(b){for(var a=0,c=this.items.length;a<c;a++)if(b===this.items[a])return;this.items.push(b)};this.F=function(b,a){for(var c=0,f=this.items.length;c<f;c++)if(b===this.items[c]){this.items[c]=a;break}};
this.A=function(){return this.items[this.items.length-1]}}function h(b){var a=E;Object.defineProperty(this,"status",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b;this.l&&this.l()}});var c=null;this.file=function(){return b};this.sourceCode=function(){return c};this.a=new v;this.g=new v;this.s=function(){if(0==this.g.items.length)return"";var a=this.g.A();return a.constructor===h?a.file()+" \u25c0 "+a.s():m(a)};this.J=function(a){c=a};l[b]=this}var d=this;Object.defineProperty(this,
"version",{enumerable:!0,configurable:!1,writable:!1,value:"0.9 beta"});var l={},p=[],w=[],g=[],r=0,t=0;this.u=null;var e=0,e={NONE:e++,DOWNLOADING:e++,DOWNLOADED:e++,DOWNLOADERROR:e++,PREPARING:e++,ABORTED:e++,SUCCESS:e++},E=e.NONE,u=e.DOWNLOADING,F=e.DOWNLOADED,G=e.DOWNLOADERROR,x=e.PREPARING,y=e.ABORTED,q=e.SUCCESS;this.pathPrefix="";this.forceDownloads=!1;this.loglevel=0;this.ModuleStatus=e;this.downloadWithRandomDeferTime=!1;var J=/^[\s\S]*\x3c!-- ___ HEADER __ --\x3e\n\n/,K=/\n\n\x3c!-- ___ FOOTER __ --\x3e[\s\S]*$/;
this.cleanScript=function(){var b=document.currentScript;b.innerHTML=b.innerHTML.replace(K,"").replace(J,"");delete b.o};this.D=function(b){for(var a=0,c=b.length;a<c;a++){var f=B(b[a]);l[f]||(2<d.loglevel&&console.log("Preloading "+f),(new h(f)).download(d.forceDownload))}};var z=null;this.checkRunPendingCodeNeeded=function(){a:{z&&(clearTimeout(z),z=null);if(p.length)for(;;){for(var b=null,a=p.length,c=0;c<a;c++){var f=p[c];if(C(f.a.items)){p.splice(c,1);b=f;break}}if(b){1<d.loglevel&&console.log("! Rerunning module "+
b.file());b.i();break a}break}if(g.length)for(;;){b=null;a=g.length;for(c=0;c<a;c++){var f=g[c],e;b:if(f.H){e=void 0;for(e in l)if(!l[e].j()){e=!1;break b}e=!0}else e=C(f.a.items);if(e){g.splice(c,1);b=f;break}}if(b){1<d.loglevel&&console.log("! Rerunning script "+m(b));a=b;a.parentNode.removeChild(a);c=document.createElement("SCRIPT");""!==a.type&&(c.type=a.type);""!==a.id&&(c.id=a.id);c.v=a.v;c.b=a.b;c.c=a.c;a.o?(c.innerHTML=a.innerHTML,c.m=a.m):(c.m=a.innerHTML,c.innerHTML="var __error__=false;try{\n\n\x3c!-- ___ HEADER __ --\x3e\n\n"+
a.innerHTML+"\n\n\x3c!-- ___ FOOTER __ --\x3e\n\n}catch(e){__error__=true;throw e}finally{if (!__error__)window._nodularJS_.checkRunPendingCodeNeeded();window._nodularJS_.cleanScript();}");c.o=!0;c.a=a.a;for(file in l)l[file].g.F(a,c);a=c;2<d.loglevel&&console.log("Adding "+m(a));document.body.appendChild(a);2<d.loglevel&&console.log("Added  "+m(a))}else break}}};var L=0,A=null;this.G=function(b,a){document.currentScript&&"undefined"===typeof document.currentScript.b&&(document.currentScript.b=L++,
document.currentScript.a=new v);if(b&&b.length){var c=null,f="";document.currentScript?c=document.currentScript:(c=d.u)&&(f=H(c.file()));if(!c)throw"require shouldn't be used in anonymous code";Array.isArray(b)||(b=[b]);for(var e=[],g=0,p=b.length;g<p;g++){var k=b[g];f.length&&(k=f+"/"+k);k=B(k);2<d.loglevel&&console.log(m(c)+" required "+k);var n=l[k];n||(n=new h(k),A&&clearTimeout(A),A=setTimeout(function(){var a=[],b;for(b in l)a.unshift(b);console.warn("Suggested preload code:\n_nodularJS_.preload("+
JSON.stringify(a)+");")},2E3));c.a.add(n);n.g.add(c);n.status<u&&n.download(a);if(n.status>=q){if(2<d.loglevel&&console.log("Already run successfully: "+k),1==p)return n.f}else 2<d.loglevel&&console.log("Still not run successfully: "+k),e.push(k)}e.length&&D({files:e})}else 2<d.loglevel&&console.log(m(document.currentScript)+" required ALL"),document.currentScript&&(document.currentScript.H=!0),r!=t&&(2<d.loglevel&&console.log(r+" requested, "+t+" ready, deferring..."),D(null)),2<d.loglevel&&console.log(r+
" requested, "+t+" ready, moving on...")};h.prototype.j=function(){return this.status>=q};h.prototype.src=function(){return(""+window._nodularJS_.pathPrefix+this.file()).replace(/\/\.\//g,"/")};h.prototype.I=function(){(function(){var b=this.module={exports:{}};try{eval("var module = moduleStore;that.runningModule=this;\n\n"+this.sourceCode()),this.f=b.exports}finally{delete d.u}if(this.module!==b)throw"Error: module was replaced in required file ${this.file()}";1<d.loglevel&&("undefined"!==typeof this.module.f&&
console.log("  -> "+this.file()+" exports: "+typeof this.module.f),3<d.loglevel&&console.log("  -> exports: "+this.module.f))}).call(this)};h.prototype.w=function(){this.status=x;try{1<d.loglevel&&console.log(">>> Executing "+this.file()),this.I()}catch(b){throw b.h&&1<d.loglevel&&console.warn("<<< Aborted "+this.file()+" (requires "+this.a.items.slice(-1)[0].file()+")"),this.status=y,b;}finally{}this.status=q};h.prototype.i=function(){try{this.w()}catch(b){if(b.h)p.push(this);else throw b;}};h.prototype.l=
function(){if(2<d.loglevel){var b=[],a;for(a in l)b.push(l[a]);console.error("Modules: "+JSON.stringify(b,null,"\t"))}switch(this.status){case u:r++;break;case x:w.push(this.file());break;case y:w.pop();break;case q:w.pop(),t++,d.checkRunPendingCodeNeeded()}if(d.onmodulestatuschange)d.onmodulestatuschange(this)};h.prototype.download=function(b){this.status=u;var a=new XMLHttpRequest;a.C=this;a.onreadystatechange=function(){if(4===a.readyState){var b=this.C;if(200===a.status)b.J(this.responseText),
1<d.loglevel&&console.log("Received "+b.file()),b.status=F,b.i();else throw b.status=G,new URIError(b.src()+" not accessible, status: "+a.status+", (required by "+b.s()+")");}};var c=this.src();a.open("GET",c,!0);if(d.forceDownloads||b)a.setRequestHeader("Cache-Control","no-cache"),a.setRequestHeader("If-None-Match","_A_DUMMY_ETAG"),a.channel&&(a.channel.B|=Components.interfaces.nsIRequest.LOAD_BYPASS_CACHE);d.downloadWithRandomDeferTime?setTimeout(function(){a.send(null)},2E3*Math.random()):a.send(null)};
h.prototype.K=function(){switch(this.status){case E:return"None";case u:return"Downloading";case F:return"Downloading";case G:return"Download error";case x:return"Preparing";case y:return"Aborted";case q:return"Success";default:return"Invalid status"}};h.prototype.toJSON=function(){return"{file: "+this.file()+", status: "+this.K()+"}"}},window.require=window._nodularJS_.G,window._nodularJS_.preload=window._nodularJS_.D);